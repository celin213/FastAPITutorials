# –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ FastAPI –¥–ª—è –Ω–∞—á–∏–Ω–∞—é—â–∏—Ö

**[üá¨üáß English version](README.md)**

–≠—Ç–æ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –ø–æ–ª–Ω—ã–π –ø—É—Ç—å –æ–±—É—á–µ–Ω–∏—è –æ—Ç –±–∞–∑–æ–≤—ã—Ö –∫–æ–Ω—Ü–µ–ø—Ü–∏–π FastAPI –¥–æ –ø—Ä–æ–¥–≤–∏–Ω—É—Ç–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã Domain-Driven Design.

## üìö –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –æ–±—É—á–µ–Ω–∏—è

### [–ü—Ä–∏–º–µ—Ä 01](example_01/): –ë–∞–∑–æ–≤—ã–µ –∑–∞–ø—Ä–æ—Å—ã –≤ FastAPI

- ‚úÖ –ú–µ—Ç–æ–¥—ã GET, POST, PUT, DELETE
- ‚úÖ Path –ø–∞—Ä–∞–º–µ—Ç—Ä—ã (`/items/{item_id}`)
- ‚úÖ Query –ø–∞—Ä–∞–º–µ—Ç—Ä—ã (`?category=food&limit=10`)
- ‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è —Ç–µ–ª–∞ –∑–∞–ø—Ä–æ—Å–∞
- ‚úÖ –ú–æ–¥–µ–ª–∏ –æ—Ç–≤–µ—Ç–æ–≤ –∏ –∫–æ–¥—ã —Å—Ç–∞—Ç—É—Å–∞
- ‚úÖ **–í—Å–µ –ø—Ä–∏–º–µ—Ä—ã –≤ –û–î–ù–û–ú —Ñ–∞–π–ª–µ**

**–§–∞–π–ª**: `example_01/main.py`

**–ò–∑—É—á–∞–µ–º—ã–µ —Ç–µ–º—ã**:
- HTTP –º–µ—Ç–æ–¥—ã –∏ –∫–æ–≥–¥–∞ –∏—Ö –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å
- Path –ø–∞—Ä–∞–º–µ—Ç—Ä—ã vs Query –ø–∞—Ä–∞–º–µ—Ç—Ä—ã
- –û–±—Ä–∞–±–æ—Ç–∫–∞ —Ç–µ–ª–∞ –∑–∞–ø—Ä–æ—Å–∞ —Å Pydantic
- –ü—Ä–∞–≤–∏–ª—å–Ω—ã–µ HTTP –∫–æ–¥—ã —Å—Ç–∞—Ç—É—Å–∞ (200, 201, 204, 404)
- –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã —Å `async def`

---

### [–ü—Ä–∏–º–µ—Ä 02](example_02/): Pydantic + BaseModel

- ‚úÖ –û—Å–Ω–æ–≤—ã BaseModel –∏ —Ç–∏–ø—ã –ø–æ–ª–µ–π
- ‚úÖ –ü—Ä–æ–¥–≤–∏–Ω—É—Ç–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è (Field, field_validator, model_validator)
- ‚úÖ –í–ª–æ–∂–µ–Ω–Ω—ã–µ –º–æ–¥–µ–ª–∏ –∏ —Å–ª–æ–∂–Ω—ã–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã
- ‚úÖ –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –º–æ–¥–µ–ª–∏ (ConfigDict)
- ‚úÖ –ö–∞—Å—Ç–æ–º–Ω—ã–µ –≤–∞–ª–∏–¥–∞—Ç–æ—Ä—ã –∏ –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞
- ‚úÖ **–í—Å–µ –ø—Ä–∏–º–µ—Ä—ã –≤ –û–î–ù–û–ú —Ñ–∞–π–ª–µ**

**–§–∞–π–ª**: `example_02/main.py`

**–ò–∑—É—á–∞–µ–º—ã–µ —Ç–µ–º—ã**:
- –°–∏–Ω—Ç–∞–∫—Å–∏—Å Pydantic v2 –∏ –ª—É—á—à–∏–µ –ø—Ä–∞–∫—Ç–∏–∫–∏
- –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –ø–æ–ª–µ–π (min_length, max_length, pattern, gt, le)
- EmailStr, HttpUrl –∏ –¥—Ä—É–≥–∏–µ —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ —Ç–∏–ø—ã
- –í–ª–æ–∂–µ–Ω–Ω—ã–µ –º–æ–¥–µ–ª–∏ –¥–ª—è —Å–ª–æ–∂–Ω—ã—Ö —Å—Ç—Ä—É–∫—Ç—É—Ä –¥–∞–Ω–Ω—ã—Ö
- –†–∞–∑–¥–µ–ª–µ–Ω–∏–µ –º–æ–¥–µ–ª–µ–π Request/Response
- –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –≤–∞–ª–∏–¥–∞—Ü–∏–∏

---

### [–ü—Ä–∏–º–µ—Ä 03](example_03/): –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö (SQLAlchemy Async)

- ‚úÖ –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Async SQLAlchemy 2.0
- ‚úÖ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–µ—Å—Å–∏—è–º–∏ —á–µ—Ä–µ–∑ `Depends(get_db)`
- ‚úÖ –°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π ORM: `mapped_column` –∏ `Mapped[type]` (–ù–ï —Å—Ç–∞—Ä—ã–π `Column`)
- ‚úÖ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `db.execute(select(...))` –≤–º–µ—Å—Ç–æ `db.query(...)`
- ‚úÖ **–û–±—ä—è—Å–Ω–µ–Ω–∏–µ Schema vs Model** - –∫–ª—é—á–µ–≤–æ–µ —Ä–∞–∑–ª–∏—á–∏–µ!
- ‚úÖ –ü–æ–ª–Ω—ã–µ CRUD –æ–ø–µ—Ä–∞—Ü–∏–∏
- ‚úÖ **–í—Å–µ –ø—Ä–∏–º–µ—Ä—ã –≤ –û–î–ù–û–ú —Ñ–∞–π–ª–µ**

**–§–∞–π–ª**: `example_03/main.py`

**–ö–ª—é—á–µ–≤—ã–µ –∫–æ–Ω—Ü–µ–ø—Ü–∏–∏**:

**Schema (Pydantic)** - —Å–ª–æ–π API:
- –í–∞–ª–∏–¥–∏—Ä—É–µ—Ç –≤—Ö–æ–¥—è—â–∏–µ –¥–∞–Ω–Ω—ã–µ –æ—Ç –∫–ª–∏–µ–Ω—Ç–æ–≤
- –°–µ—Ä–∏–∞–ª–∏–∑—É–µ—Ç –∏—Å—Ö–æ–¥—è—â–∏–µ –¥–∞–Ω–Ω—ã–µ –∫–ª–∏–µ–Ω—Ç–∞–º
- –ù–∞—Ö–æ–¥–∏—Ç—Å—è –Ω–∞ —É—Ä–æ–≤–Ω–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è/API
- –ü—Ä–∏–º–µ—Ä—ã: `UserCreate`, `UserUpdate`, `UserResponse`

**Model (SQLAlchemy)** - —Å–ª–æ–π –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö:
- –ü—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä—É —Ç–∞–±–ª–∏—Ü—ã –ë–î
- –û—Ç–æ–±—Ä–∞–∂–∞–µ—Ç Python –æ–±—ä–µ–∫—Ç—ã –≤ —Å—Ç—Ä–æ–∫–∏ –ë–î
- –ù–∞—Ö–æ–¥–∏—Ç—Å—è –Ω–∞ —É—Ä–æ–≤–Ω–µ –¥–∞–Ω–Ω—ã—Ö/–ø–µ—Ä—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç–∏
- –ü—Ä–∏–º–µ—Ä: –∫–ª–∞—Å—Å `User` —Å `mapped_column`

**–ó–∞—á–µ–º –æ–±–∞?**:
- –†–∞–∑–¥–µ–ª–µ–Ω–∏–µ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏
- –°—Ö–µ–º–∞ –ë–î –º–æ–∂–µ—Ç –æ—Ç–ª–∏—á–∞—Ç—å—Å—è –æ—Ç API –∫–æ–Ω—Ç—Ä–∞–∫—Ç–∞
- –ú–æ–∂–Ω–æ —Å–∫—Ä—ã–≤–∞—Ç—å —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è (–ø–∞—Ä–æ–ª–∏, –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ ID)
- –ù–µ—Å–∫–æ–ª—å–∫–æ Pydantic —Å—Ö–µ–º –º–æ–≥—É—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –æ–¥–Ω—É Model

---

### [–ü—Ä–∏–º–µ—Ä 04](example_04/): –†–∞–±–æ—Ç–∞ —Å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è–º–∏

- ‚úÖ –ó–∞–≥—Ä—É–∑–∫–∞ —Ñ–∞–π–ª–æ–≤ —Å –≤–∞–ª–∏–¥–∞—Ü–∏–µ–π
- ‚úÖ –û–±—Ä–∞–±–æ—Ç–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π (–∏–∑–º–µ–Ω–µ–Ω–∏–µ —Ä–∞–∑–º–µ—Ä–∞, –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è —Ñ–æ—Ä–º–∞—Ç–∞)
- ‚úÖ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ PIL/Pillow
- ‚úÖ –°–∫–∞—á–∏–≤–∞–Ω–∏–µ —Ñ–∞–π–ª–æ–≤ (FileResponse, StreamingResponse)
- ‚úÖ –†–∞–∑–¥–∞—á–∞ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏—Ö —Ñ–∞–π–ª–æ–≤
- ‚úÖ –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –º–∏–Ω–∏–∞—Ç—é—Ä –Ω–∞ –ª–µ—Ç—É
- ‚úÖ –û–ø–µ—Ä–∞—Ü–∏–∏ —Å —Ñ–∞–π–ª–æ–≤–æ–π —Å–∏—Å—Ç–µ–º–æ–π

**–§–∞–π–ª**: `example_04/main.py`

**–û—Å–Ω–æ–≤–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏**:
- –ó–∞–≥—Ä—É–∑–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π —Å –≤–∞–ª–∏–¥–∞—Ü–∏–µ–π —Ç–∏–ø–∞
- –ò–∑–º–µ–Ω–µ–Ω–∏–µ —Ä–∞–∑–º–µ—Ä–∞ —Å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ–º –ø—Ä–æ–ø–æ—Ä—Ü–∏–π
- –ö–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è –º–µ–∂–¥—É —Ñ–æ—Ä–º–∞—Ç–∞–º–∏ (JPEG, PNG, WEBP)
- –°–∫–∞—á–∏–≤–∞–Ω–∏–µ –æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã—Ö –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
- –ü–æ—Ç–æ–∫–æ–≤–∞—è –æ—Ç–¥–∞—á–∞ –º–∏–Ω–∏–∞—Ç—é—Ä –±–µ–∑ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è
- –°–ø–∏—Å–æ–∫ –∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã—Ö –∏ –æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤

**–¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏**:
- –ó–∞–≥—Ä—É–∑–∫–∞ —Ñ–∞–π–ª–æ–≤ FastAPI (`UploadFile`)
- PIL/Pillow –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
- `FileResponse` –¥–ª—è —Å–∫–∞—á–∏–≤–∞–Ω–∏—è
- `StreamingResponse` –¥–ª—è –ø–æ—Ç–æ–∫–æ–≤–æ–π –ø–µ—Ä–µ–¥–∞—á–∏
- `StaticFiles` –¥–ª—è —Ä–∞–∑–¥–∞—á–∏ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–π

---

### [–ü—Ä–∏–º–µ—Ä 05](example_05/): Dependency Injection (–í–Ω–µ–¥—Ä–µ–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π)

- ‚úÖ –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç `Depends()` –≤–Ω—É—Ç—Ä–∏
- ‚úÖ –ü–∞—Ç—Ç–µ—Ä–Ω Service Layer —Å DI
- ‚úÖ –ü–∞—Ç—Ç–µ—Ä–Ω Repository –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ –¥–∞–Ω–Ω—ã–º
- ‚úÖ –ú–Ω–æ–≥–æ—É—Ä–æ–≤–Ω–µ–≤–∞—è —Ü–µ–ø–æ—á–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
- ‚úÖ –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ DI –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
- ‚úÖ –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –Ω–∞ —É—Ä–æ–≤–Ω–µ –∑–∞–ø—Ä–æ—Å–∞

**–§–∞–π–ª—ã**: `example_05/main.py`, `example_05/test_di.py`

**–¶–µ–ø–æ—á–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π**:
```
Router ‚Üí Service ‚Üí Repository ‚Üí Database Session
```

**–ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç Depends()**:
1. FastAPI –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç —Å–∏–≥–Ω–∞—Ç—É—Ä—É —Ñ—É–Ω–∫—Ü–∏–∏
2. –†–µ–∫—É—Ä—Å–∏–≤–Ω–æ —Ä–∞–∑—Ä–µ—à–∞–µ—Ç –≤—Å–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
3. –ö—ç—à–∏—Ä—É–µ—Ç —ç–∫–∑–µ–º–ø–ª—è—Ä—ã –Ω–∞ –∑–∞–ø—Ä–æ—Å (–æ–¥–Ω–∞ —Å–µ—Å—Å–∏—è –¥–ª—è –≤—Å–µ—Ö)
4. –í—ã–∑—ã–≤–∞–µ—Ç –∫–æ–¥ –æ—á–∏—Å—Ç–∫–∏ (–≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä—ã —Å `yield`)
5. –í–Ω–µ–¥—Ä—è–µ—Ç —Ä–∞–∑—Ä–µ—à–µ–Ω–Ω—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –≤ —Ñ—É–Ω–∫—Ü–∏—é

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞**:
- –õ–µ–≥–∫–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å (–º–æ–∂–Ω–æ –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª—è—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏)
- –ß–µ—Ç–∫–æ–µ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–∞–º–∏
- –¢–∏–ø–æ–±–µ–∑–æ–ø–∞—Å–Ω–æ–µ –≤–Ω–µ–¥—Ä–µ–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
- –ü–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

---

### [–ü—Ä–∏–º–µ—Ä 06](example_06/): Domain-Driven Design (–ü–æ–ª–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞)

–ü–æ–ª–Ω–∞—è –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Å —á–µ—Ç–∫–∏–º —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ–º —Å–ª–æ–µ–≤.

**–§–∞–π–ª—ã**:
```
example_06/
‚îú‚îÄ‚îÄ domain/
‚îÇ   ‚îú‚îÄ‚îÄ models.py      # DAO: –ú–æ–¥–µ–ª–∏ –ë–î (SQLAlchemy)
‚îÇ   ‚îî‚îÄ‚îÄ schemas.py     # DTO: –û–±—ä–µ–∫—Ç—ã –ø–µ—Ä–µ–¥–∞—á–∏ –¥–∞–Ω–Ω—ã—Ö (Pydantic)
‚îú‚îÄ‚îÄ repositories/
‚îÇ   ‚îú‚îÄ‚îÄ base.py        # –ë–∞–∑–æ–≤—ã–π CRUD —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
‚îÇ   ‚îî‚îÄ‚îÄ user_repository.py  # –°–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã –¥–ª—è User
‚îú‚îÄ‚îÄ services/
‚îÇ   ‚îî‚îÄ‚îÄ user_service.py     # –°–ª–æ–π –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∏
‚îú‚îÄ‚îÄ factories/
‚îÇ   ‚îî‚îÄ‚îÄ user_factory.py     # –ü–∞—Ç—Ç–µ—Ä–Ω—ã —Å–æ–∑–¥–∞–Ω–∏—è –æ–±—ä–µ–∫—Ç–æ–≤
‚îú‚îÄ‚îÄ routers/
‚îÇ   ‚îî‚îÄ‚îÄ users.py       # HTTP API —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã (—Ç–æ–Ω–∫–∏–π —Å–ª–æ–π)
‚îú‚îÄ‚îÄ database.py        # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –ë–î
‚îú‚îÄ‚îÄ unit_of_work.py    # –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è–º–∏
‚îî‚îÄ‚îÄ main.py            # –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
```

**–°–ª–æ–∏ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã**:

1. **DAO (Data Access Objects)** - `domain/models.py`
   - SQLAlchemy ORM –º–æ–¥–µ–ª–∏
   - –ü—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ —Ç–∞–±–ª–∏—Ü –ë–î

2. **DTO (Data Transfer Objects)** - `domain/schemas.py`
   - Pydantic –º–æ–¥–µ–ª–∏ –¥–ª—è API –∫–æ–Ω—Ç—Ä–∞–∫—Ç–æ–≤
   - –í–∞–ª–∏–¥–∞—Ü–∏—è –∏ —Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏—è

3. **Repositories** - –ê–±—Å—Ç—Ä–∞–∫—Ü–∏—è –¥–æ—Å—Ç—É–ø–∞ –∫ –¥–∞–Ω–Ω—ã–º
4. **Services** - –°–ª–æ–π –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∏
5. **Factories** - –ü–∞—Ç—Ç–µ—Ä–Ω—ã —Å–æ–∑–¥–∞–Ω–∏—è –æ–±—ä–µ–∫—Ç–æ–≤
6. **UnitOfWork** - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è–º–∏
7. **Routers** - –¢–æ–Ω–∫–∏–π HTTP —Å–ª–æ–π

---

## üöÄ –ù–∞—á–∞–ª–æ —Ä–∞–±–æ—Ç—ã

### –£—Å—Ç–∞–Ω–æ–≤–∫–∞

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –≤—Å–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
pip install -r requirements.txt

# –ò–ª–∏ –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –ø—Ä–∏–º–µ—Ä–∞
cd example_01
pip install fastapi uvicorn pydantic[email]
```

### –ó–∞–ø—É—Å–∫ –ø—Ä–∏–º–µ—Ä–æ–≤

**[–ü—Ä–∏–º–µ—Ä—ã 01](example_01/)-[03](example_03/)** (–æ–¥–∏–Ω —Ñ–∞–π–ª):
```bash
cd example_01  # –∏–ª–∏ example_02, example_03
uvicorn main:app --reload
```

**[–ü—Ä–∏–º–µ—Ä—ã 04](example_04/)-[06](example_06/)** (–Ω–µ—Å–∫–æ–ª—å–∫–æ —Ñ–∞–π–ª–æ–≤ –∏–ª–∏ –æ–¥–∏–Ω —Ñ–∞–π–ª):
```bash
cd example_04  # –∏–ª–∏ example_05, example_06
python main.py
```

**–î–æ—Å—Ç—É–ø –∫ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ API**:
- Swagger UI: http://localhost:8000/docs
- ReDoc: http://localhost:8000/redoc

---

## üìñ –ü—É—Ç—å –æ–±—É—á–µ–Ω–∏—è

### –ù–∞—á–∏–Ω–∞—é—â–∏–π
1. –ù–∞—á–Ω–∏—Ç–µ —Å **[–ü—Ä–∏–º–µ—Ä–∞ 01](example_01/)** - –ò–∑—É—á–∏—Ç–µ –±–∞–∑–æ–≤—ã–µ HTTP –º–µ—Ç–æ–¥—ã
2. –ü–µ—Ä–µ—Ö–æ–¥–∏—Ç–µ –∫ **[–ü—Ä–∏–º–µ—Ä—É 02](example_02/)** - –û—Å–≤–æ–π—Ç–µ –≤–∞–ª–∏–¥–∞—Ü–∏—é Pydantic
3. –ò–∑—É—á–∏—Ç–µ **[–ü—Ä–∏–º–µ—Ä 03](example_03/)** - –ü–æ–π–º–∏—Ç–µ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—é —Å –ë–î

### –°—Ä–µ–¥–Ω–∏–π —É—Ä–æ–≤–µ–Ω—å
4. **[–ü—Ä–∏–º–µ—Ä 04](example_04/)** - –ù–∞—É—á–∏—Ç–µ—Å—å —Ä–∞–±–æ—Ç–∞—Ç—å —Å —Ñ–∞–π–ª–∞–º–∏ –∏ –æ–±—Ä–∞–±–æ—Ç–∫–æ–π –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
5. **[–ü—Ä–∏–º–µ—Ä 05](example_05/)** - –ò–∑—É—á–∏—Ç–µ –ø–∞—Ç—Ç–µ—Ä–Ω Dependency Injection
6. –ü–æ–π–º–∏—Ç–µ —Å–ª–æ–∏ Service –∏ Repository

### –ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–π
7. **[–ü—Ä–∏–º–µ—Ä 06](example_06/)** - –ü–æ–ª–Ω–∞—è DDD –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞
8. –°–æ–∑–¥–∞–≤–∞–π—Ç–µ production-ready –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

---

## üîë –ö–ª—é—á–µ–≤—ã–µ —Ä–∞–∑–ª–∏—á–∏—è

### Schema vs Model ([–ü—Ä–∏–º–µ—Ä 03](example_03/))

**Schema (Pydantic)**:
- –î–ª—è –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –∏ —Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏–∏ API
- –ù–∞—Ö–æ–¥–∏—Ç—Å—è –Ω–∞ —É—Ä–æ–≤–Ω–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
- –ü—Ä–∏–º–µ—Ä—ã: `UserCreate`, `UserResponse`

**Model (SQLAlchemy)**:
- –î–ª—è –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è –ë–î
- –ù–∞—Ö–æ–¥–∏—Ç—Å—è –Ω–∞ —É—Ä–æ–≤–Ω–µ –ø–µ—Ä—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç–∏
- –ü—Ä–∏–º–µ—Ä: `User` —Å `mapped_column`

### –°—Ç–∞—Ä—ã–π vs –ù–æ–≤—ã–π SQLAlchemy

**‚ùå –°–¢–ê–†–´–ô (SQLAlchemy 1.x)**:
```python
id = Column(Integer, primary_key=True)
user = db.query(User).filter(User.id == 1).first()
```

**‚úÖ –ù–û–í–´–ô (SQLAlchemy 2.0)** - –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ —ç—Ç–æ–º —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–µ:
```python
id: Mapped[int] = mapped_column(Integer, primary_key=True)
result = await db.execute(select(User).where(User.id == 1))
user = result.scalar_one_or_none()
```

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞**:
- –õ—É—á—à–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ —Ç–∏–ø–æ–≤ —Å Mapped[type]
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –∞–≤—Ç–æ–¥–æ–ø–æ–ª–Ω–µ–Ω–∏—è –≤ IDE
- –ù–∞—Ç–∏–≤–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞ async/await
- –£–Ω–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω—ã–π API –∑–∞–ø—Ä–æ—Å–æ–≤
- –õ—É—á—à–∞—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

---

## üéØ –ö—Ä–∏—Ç–∏—á–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è

‚úÖ **100% Async –∫–æ–¥**
- –í—Å–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç `async def`
- –í—Å–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ —Å –ë–î –∏—Å–ø–æ–ª—å–∑—É—é—Ç `await`
- AsyncSession –¥–ª—è –ë–î
- Async –∫–æ–Ω—Ç–µ–∫—Å—Ç–Ω—ã–µ –º–µ–Ω–µ–¥–∂–µ—Ä—ã

‚úÖ **–ü–∞—Ç—Ç–µ—Ä–Ω—ã SQLAlchemy 2.0**
- `mapped_column` –≤–º–µ—Å—Ç–æ `Column`
- `Mapped[type]` –¥–ª—è –ø–æ–¥—Å–∫–∞–∑–æ–∫ —Ç–∏–ø–æ–≤
- `db.execute(select(...))` –≤–º–µ—Å—Ç–æ `db.query(...)`

‚úÖ **–û—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è —Ñ–∞–π–ª–æ–≤**
- –ü—Ä–∏–º–µ—Ä—ã 1-4: –í–µ—Å—å –∫–æ–¥ –≤ –û–î–ù–û–ú —Ñ–∞–π–ª–µ (–ø—Ä–æ—Å—Ç–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞)
- –ü—Ä–∏–º–µ—Ä—ã 5-6: –ü—Ä–∞–≤–∏–ª—å–Ω–æ–µ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ —Å–ª–æ–µ–≤ (–ø—Ä–æ–¥–≤–∏–Ω—É—Ç–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞)
- –ù–µ—Ç —Ñ–∞–π–ª–æ–≤ –≤ –∫–æ—Ä–Ω–µ–≤–æ–π –ø–∞–ø–∫–µ (–≤—Å–µ –≤ –ø–æ–¥–ø–∞–ø–∫–∞—Ö)

---

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

–ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤ –¥–ª—è [–ü—Ä–∏–º–µ—Ä–∞ 05](example_05/):
```bash
cd example_05
pytest test_di.py -v
```

–¢–µ—Å—Ç—ã –¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä—É—é—Ç:
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å —Ç–µ—Å—Ç–æ–≤–æ–π –ë–î
- –ü–∞—Ç—Ç–µ—Ä–Ω—ã –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
- –ú–æ–∫–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–µ–≤
- –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ DI –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

---

## üìö –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã

- [–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è FastAPI](https://fastapi.tiangolo.com/)
- [SQLAlchemy 2.0](https://docs.sqlalchemy.org/en/20/)
- [Pydantic v2](https://docs.pydantic.dev/latest/)
- [Domain-Driven Design](https://martinfowler.com/tags/domain%20driven%20design.html)

---

## ü§ù –í–∫–ª–∞–¥

–≠—Ç–æ —É—á–µ–±–Ω—ã–π –ø—Ä–æ–µ–∫—Ç. –ö–∞–∂–¥—ã–π –ø—Ä–∏–º–µ—Ä —Å–∞–º–æ–¥–æ—Å—Ç–∞—Ç–æ—á–µ–Ω –∏ –º–æ–∂–µ—Ç –∏–∑—É—á–∞—Ç—å—Å—è –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ.

–ü—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è –ø–æ —É–ª—É—á—à–µ–Ω–∏—é –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤—É—é—Ç—Å—è!

---

## üìÑ –õ–∏—Ü–µ–Ω–∑–∏—è

–£—á–µ–±–Ω—ã–π –º–∞—Ç–µ—Ä–∏–∞–ª —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω—è–µ—Ç—Å—è –±–µ—Å–ø–ª–∞—Ç–Ω–æ –∏ –±–µ–∑ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π (MIT License).

---

**–£—Å–ø–µ—Ö–æ–≤ –≤ –æ–±—É—á–µ–Ω–∏–∏! üöÄ**
